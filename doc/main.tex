\documentclass[a4paper,10pt,oneside]{memoir}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{titlesec}

\setlrmarginsandblock{2.75cm}{2.25cm}{*}
\setulmarginsandblock{2.5cm}{2.5cm}{*}
\checkandfixthelayout


\titleformat{\chapter}[block]
    {\normalfont\Large\bfseries}{\thechapter.}{1em}{\Large}
\titlespacing*{\chapter}{0pt}{-19pt}{0pt}

\titleformat{\section}[block]
    {\normalfont\large\bfseries}{\thesection.}{1em}{\large}
\titlespacing*{\section}{0pt}{3pt}{0pt}

\titleformat{\subsection}[block]
    {\normalfont\large}{\thesubsection.}{1em}{\large}
\titlespacing*{\subsection}{0pt}{3pt}{0pt}

\makeoddhead{plain}{\rightmark}{}{Dossier de Pizza con Piña}
\copypagestyle{chapter}{plain}
\copypagestyle{header}{plain}
\pagestyle{plain}

\lstdefinestyle{estilo}{
    basicstyle=\ttfamily\footnotesize,
    commentstyle=\color{gray},
    frame=single,
    breaklines=true,
    language=C++,
    numbers=left,
    numbersep=8pt,
    extendedchars=true,
    literate={á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1 {ñ}{{\~n}}1 {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1 {Ñ}{{\~N}}1
}
\lstset{style=estilo}

\NewDocumentCommand{\lst}{O{4} m}{%
    \IfFileExists{../libs/#2}{%
        \lstinputlisting[firstline=#1]{../libs/#2}
    }{%
        \lstinputlisting[firstline=#1]{./code/#2}
    }
}

\begin{document}

\input{al.tex}
\input{es.tex}
\input{ma.tex}
\input{ge.tex}
\input{ot.tex}

\end{document}
